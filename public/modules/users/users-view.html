<div class="container-fluid">

    <div class="row-fluid">
        <div class="col-md-12">
            <div class="row-fluid">
                <h3>Users</h3>

                <a style="display: none;" href="" ng-click="getUserById();">Get by Id</a> <span
                    style="font-weight: bold;">{{Hyphen.dataModel.UsersDataModel.getById('561f93145ab9c5d99519d66c').getFullName()}}</span>

                <div class="btn-group">
                    <button type="submit" ng-class="{'active': Hyphen.Users.api.getAll.loading}"
                            class="btn btn-default has-spinner" ng-click="loadUsers()">
                        <span class="spinner"><i class="fa fa-refresh fa-spin"></i></span>Load Users
                    </button>
                </div>
                <div class="btn-group">
                    <button type="submit" ng-class="{'active': Hyphen.Users.api.removeAll.loading}"
                            class="btn btn-default has-spinner" ng-click="removeAll()">
                        <span class="spinner"><i class="fa fa-refresh fa-spin"></i></span>Remove all
                    </button>
                </div>
                <div class="btn-group">
                    <button type="submit" ng-class="{'active': Hyphen.Users.api.delete.loading}"
                            class="btn btn-default has-spinner" ng-click="deleteUser()">
                        <span class="spinner"><i class="fa fa-refresh fa-spin"></i></span>Delete selected
                    </button>
                </div>
                <div class="btn-group">
                    <button type="submit" ng-class="{'active': Hyphen.Users.api.getUserProjects.loading}"
                            class="btn btn-default has-spinner" ng-click="getUserProjects()">
                        <span class="spinner"><i class="fa fa-refresh fa-spin"></i></span>Get User Projects
                    </button>
                </div>



                <a style="display: none;" href="" ng-click="updateUser(user);">Update user</a>
                <a style="display: none;" href="" ng-click="getById();">Show by id</a> <span style="font-weight: bold;">{{ name }}</span>

            </div>
        </div>


        <div class="row-fluid">
            <div class="col-md-9">
                <table class="table table-responsive table-bordered">
                    <thead>
                    <tr>
                        <th style="display: none;">Id</th>
                        <th>Email</th>
                        <th>F Name</th>
                        <th>L Name</th>
                        <th>Created at</th>
                        <th>Company</th>
                        <th>Full name</th>
                        <th> <input ng-model="allUsersCheckbox" ng-click="selectAll()" type="checkbox" aria-label="..."></th>
                        <th>-</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-class="{'selected-row' : model.editRowId==user._id}" ng-repeat="user in Hyphen.Users.dataModel.getData()" ng-click="model.editRowId=user._id">
                        <td style="display: none;">
                            {{user._id}}
                        </td>
                        <td>
                            {{user.user_email}} {{editRowId}}
                        </td>
                        <td>
                            {{user.user_first_name}}
                        </td>
                        <td>
                            {{user.user_last_name}}
                        </td>
                        <td>
                            {{user.created_at}}
                        </td>
                        <td>
                            {{user.company}}
                        </td>
                        <td>
                            {{user.getFullName()}}
                        </td>
                        <td>
                            <input ng-model="user.checked" type="checkbox" aria-label="...">

                        </td>
                        <td>
                            <a href="" ng-click="beginUserEdit(user)">Edit</a>
                        </td>
                    </tr>
                    <tr style="display: none;">
                        <td><input ng-model="userEmail" type="text"></td>
                        <td><input ng-model="userFirstName" type="text"></td>
                        <td><input ng-model="userLastName" type="text"></td>
                        <td></td>
                        <td><input ng-model="userCompany" type="text"></td>
                        <td></td>
                        <td colspan="2"><a href="" ng-click="creteNewUser()">Add user</a></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="col-md-3">
            <form class="form-horizontal">
                <div class="form-group">
                    <div class="col-sm-9">
                        <input type="text" ng-model="newUser.user_email" class="form-control" placeholder="Email">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-9">
                        <input type="text" ng-model="newUser.user_first_name" class="form-control" placeholder="First Name">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-9">
                        <input type="text" ng-model="newUser.user_last_name" class="form-control" placeholder="Last Name">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-9">
                        <input type="text" ng-model="newUser.company" class="form-control" placeholder="Company">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-9">
                        <input type="password" ng-model="newUser.user_password" class="form-control" placeholder="Password">
                    </div>
                </div>
                <div style="display: none" class="form-group">
                    <div class="col-sm-10">
                        <div class="checkbox">
                            <label>
                                <input type="checkbox"> Remember me
                            </label>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-10">
                        <button ng-if="!editUser" type="submit" ng-class="{'active': Hyphen.Users.api.registerUser.loading}"
                                class="btn btn-default has-spinner" ng-click="creteNewUser(newUser)">
                            <span class="spinner"><i class="fa fa-refresh fa-spin"></i></span>
                            Create user
                        </button>
                        <button ng-if="editUser" type="submit" ng-class="{'active': Hyphen.Users.api.update.loading}"
                                class="btn btn-default has-spinner" ng-click="updateUser(newUser)">
                            <span class="spinner"><i class="fa fa-refresh fa-spin"></i></span>
                            Update user
                        </button>

                        <button ng-if="editUser" type="submit" ng-class="{'active': Hyphen.Users.api.registerUser.loading}"
                                class="btn btn-default has-spinner" ng-click="editUser =false">
                            <span class="spinner"><i class="fa fa-refresh fa-spin"></i></span>
                            Cancel
                        </button>

                    </div>
                </div>
            </form>
        </div>
    </div>
</div>